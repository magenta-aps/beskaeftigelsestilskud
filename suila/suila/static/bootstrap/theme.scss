$enable-cssgrid: true;

// Basic color scheme
$primary: #820041;
$dark-primary: #530029;
$secondary: #ffe169;
$light-secondary: #bf0169;
$light-primary: #dacac4;
$lightest-primary: #f9eff4;

// Neutral colours
$black: #000000;
$dark-grey: #222222;
$grey: #d7d7d2;
$light-grey: #ebebe7;
$lightest-grey: #f7f7f1;
$white: #ffffff;
$label: #6f7f88;

// Accent colours
$approved: #207255;
$approved-light: #bdecdc;
$waiting: #3157a1;
$waiting-light: #bccded;
$rejected: #af1d1d;
$rejected-light: #f8cfcf;

// Override Bootstrap defaults
$primary: $primary;
$secondary: $secondary;
$success: $approved;
$info: $waiting;
$warning: $secondary;
$danger: $rejected;
$light: $lightest-grey;
$dark: $dark-grey;

$badge-font-size: 1em;
$badge-font-weight: normal;

$border-color: $grey;

$link-color: $dark-primary;

$breadcrumb-divider: quote("\203A");

$accordion-bg: transparent;

$offcanvas-color: $white;
$offcanvas-bg-color: $primary;

@import "./bootstrap/scss/bootstrap";

// Figtree font
@font-face {
  font-family: "Figtree Normal";
  font-weight: normal;
  src: url("../figtree/Figtree-VariableFont_wght.ttf") format("truetype");
}
@font-face {
  font-family: "Figtree Italic";
  font-weight: normal;
  src: url("../figtree/Figtree-Italic-VariableFont_wght.ttf") format("truetype");
}

body {
  font-family: "Figtree Normal", "Trebuchet MS", "Helvetica", sans-serif;
}

i {
  font-family: "Figtree Italic", "Trebuchet MS", "Helvetica", sans-serif;
  font-style: normal; /* avoid "double italicization" */
}

h1 {
  font-size: 2 * $spacer;
  color: $black;
}

h1 a {
  color: $black;
}

h2 {
  font-size: 1.5 * $spacer;
  font-weight: bold;
  color: $dark-primary;
}

h3 {
  font-size: 1.25 * $spacer;
  font-weight: bold;
  color: $black;
}

h4 {
  font-size: $spacer;
  color: $primary;
}

// Makes it easier to align buttons with headers (default is 0.5rem)
h1,
h2,
h3,
h4,
h5,
h6 {
  margin-bottom: 0;
}

html,
body {
  height: 100%;
}
body {
  display: flex;
  flex-direction: column;
  background-color: $light-primary;
}
.content-fluid {
  flex: 1 0 auto;
}

h1.secondary,
h2.secondary,
div.secondary,
span.secondary {
  color: $label;
}

a {
  text-decoration: underline;
  color: $light-secondary;
}
a:hover {
  text-decoration: none;
}

ol li, ul li {
  line-height: 2 * $spacer;
}

.btn:disabled {
  background-color: $light-primary;
  color: $dark-grey;
  border-color: transparent;
}
.btn.btn-transparent {
  color: $dark-primary;
}

header {
  margin: 0 0 2 * $spacer 0;
  background-color: $primary;
}
header nav.navbar {
  margin: 0 3 * $spacer;
  padding: 1.5 * $spacer 0;
}
header nav.navbar a,
header nav.navbar div > span.material-icons {
  color: $white;
}
header nav.navbar a:hover {
  color: $secondary;
}
header nav.navbar ul li {
  line-height: $spacer;
}
header nav.navbar ul.dropdown-menu li a {
  color: $black;
}
header nav.navbar .navbar-toggler {
  color: $white;
  border-color: $white;
}

// Navbar when shown in "offcanvas" container (e.g. on smaller screens)
.offcanvas-xl.show ul.navbar-nav li.nav-item,
.offcanvas-xl.showing ul.navbar-nav li.nav-item {
  margin: $spacer 0;
}
.offcanvas-xl.show .profile-menu,
.offcanvas-xl.showing .profile-menu {
  padding: 1.5 * $spacer;
  border-top: 1px solid $dark-primary;
}
.offcanvas-xl.show .profile-menu .action,
.offcanvas-xl.showing .profile-menu .action {
  margin-left: -($btn-padding-x / 2);
}
.offcanvas-xl.show a.close,
.offcanvas-xl.showing a.close {
  position: absolute;
  top: 2 * $spacer;
  right: 1.5 * $spacer;
  text-decoration: none;
}
.offcanvas-xl.show .close span.material-icons,
.offcanvas-xl.showing .close span.material-icons {
  vertical-align: bottom;
}

.content {
  margin: 0;
  padding: $spacer;
  background-color: $lightest-grey;
  border-radius: $spacer;
  box-shadow: 0 0 $spacer $grey;
}
.card {
  min-width: 35vw;
  padding: 3 * $spacer;
  border-color: transparent;
  border-radius: $spacer;
  box-shadow: 0 0 $spacer $grey;
}
.card-body {
  padding: 0;
}
.card-header {
  padding: 0 0 2 * $spacer 0;
  background-color: transparent;
  border: none;
}

// Nav
header nav .navbar-nav a {
  text-decoration: none;
}
header nav .navbar-nav a.active {
  color: $secondary;
}
header .logo-suila {
  display: inline-block;
  width: 155px;
  height: 60px;
  background-image: url("../suila/logo_suila_white_large.png");
  text-indent: -9999em;
}

// Language picker
select[name="language"] {
  width: auto;
  padding: 0 0 0 0.5 * $spacer;
  border: 0;
  appearance: menulist-button;
  background: $primary;
  color: $white;
}
select[name="language"]:focus {
  box-shadow: none;
}
select[name="language"]:hover {
  color: $secondary;
}
select[name="language"] option {
  appearance: none;
  background-color: $primary;
}
select[name="language"] option:hover {
  color: $white;
}

// Settings ("wheel") menu
#settings {
  padding: $spacer;
  margin-right: -$spacer;
  min-width: 15vw;
  border-color: transparent;
  border-radius: 0.5 * $spacer;
  box-shadow: 0 0 0.5 * $spacer $grey;
  background: $lightest-grey;
}
#settings div:first-child {
  margin-bottom: 1.5 * $spacer;
}
#settings div:first-child h4 {
  color: $dark-primary;
  font-weight: bold;
}
#settings div:first-child span.material-icons {
  font-size: 2.5 * $spacer;
  color: $dark-primary;
}

// Footer
footer {
  flex-shrink: 0;
  padding: 6 * $spacer 3 * $spacer 3 * $spacer 3 * $spacer;
}
footer a {
  display: inline-block;
  height: 50px;
  padding: 0 0 0 148px + 40px;
  background: url("../suila/logo_aka_large.png") no-repeat;
  text-decoration: underline;
  color: $primary;
}
footer a:hover {
  text-decoration: none;
}

// Accordion (FAQ)
#faq .accordion-item {
  margin: 0 0 $spacer 0;
  border: none;
}
#faq .accordion-button {
  appearance: none;
  padding: $spacer;
  background: $light-grey;
  border-radius: 0.5 * $spacer;
  color: $primary;
  font-size: 1.25 * $spacer;
  font-weight: bold;
}
#faq ul li {
  line-height: 1.5 * $spacer;
}

// Badges
// The design guide's colour are "inverted" and using a non-standard colour scheme
.badge-draft {
  background-color: $light-grey;
  color: $label;
}
.badge-waiting {
  background-color: $waiting-light;
  color: $waiting;
}
.badge-approved {
  background-color: $approved-light;
  color: $approved;
}
.badge-rejected {
  background-color: $rejected-light;
  color: $rejected;
}

// Tables
.table {
  overflow: hidden !important;
  border-radius: $spacer;
}
.table th {
  background-color: $grey;
  border-bottom: 0;
  padding: 0.5 * $spacer $spacer;
}
.table tbody tr {
  vertical-align: middle;
}
.table tbody td {
  padding: $spacer;
  vertical-align: middle;
  background: transparent;
}
// Forces all table headers to be `dark-primary`
.table > :not(caption) > * > th {
  color: $dark-primary;
}
// ...and the headers that act as links (sorting)
.table > :not(caption) > * > th > a {
  color: $dark-primary;
}
table tbody > tr:last-child > td {
  border-bottom: 0;
}
// We want the headers of sideways tables to have the same color as the background
.table-sideways th {
  background-color: $lightest-grey;
}

.form-select {
  border-radius: 50 * $spacer;
}

// Tooltips on e.g. table columns
a.help span.material-icons {
  vertical-align: text-top;
}

// Jumbo buttons on landing page, etc.
.jumbo {
  background-color: $primary;
  border-radius: $spacer;
}
.jumbo a {
  padding: 3 * $spacer 2 * $spacer;
}
.jumbo .material-icons {
  font-size: 2 * $spacer;
  color: $white;
}
.jumbo h1 {
  font-size: 1.5 * $spacer;
  color: $white;
}
.jumbo:hover {
  background: $dark-primary;
  transition: background-color 0.25s;
}
.jumbo a:hover .material-icons,
.jumbo a:hover h1 {
  color: $secondary;
}

// Emphasized pieces of content
.emphasis {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: $secondary;
  border-radius: $spacer;
  padding: 2 * $spacer;
}
.emphasis h1 {
  font-size: 2rem;
  color: $dark-primary;
}
.emphasis ul li {
  line-height: 1.75rem;
}

// Sidebar
.sidebar {
  background: $light-grey;
  padding: 2 * $spacer;
  border-radius: $spacer;
}
.sidebar.g-col-12 {
  padding-bottom: $spacer;
}
.sidebar p {
  line-height: 1.75 * $spacer;
}

// Detail table
ul.nav.detail-table {
  background: $primary;
  border-radius: $spacer $spacer 0 0;
}
div.detail-table {
  background: $light-grey;
  border-radius: 0 0 $spacer $spacer;
}
ul.nav.detail-table a.nav-link {
  color: $lightest-primary;
  font-weight: bold;
}
ul.nav.detail-table a.nav-link.active {
  color: $secondary;
  text-decoration: underline;
}
div.detail-table table thead th {
  background: $grey;
}
div.detail-table table tbody td {
  background: transparent;
}
div.detail-table div.sidebar {
  background: $lightest-grey;
}
div.detail-table div.sidebar h3{
  color: $primary;
}

// Table ordering
table th.orderable.asc a::after {
  font-family: "Material Icons";
  content: "arrow_drop_up";
  margin-left: 0.25 * $spacer;
  vertical-align: bottom;
}
table th.orderable.desc a::after {
  font-family: "Material Icons";
  content: "arrow_drop_down";
  margin-left: 0.25 * $spacer;
  vertical-align: bottom;
}

// Suila graph
#graph {
  height: 50rem;
  padding: $spacer;
  background: $light-grey;
  border-radius: $spacer;
}

// Misc
div.explainer p {
  margin: $spacer 0 0 0;
}

// "Extra large" (or larger)
@include media-breakpoint-up(xxl) {
  header nav.navbar .offcanvas-xl {
    display: flex;
    flex-direction: row;
  }
}

// "Large" (or larger)
@include media-breakpoint-up(lg) {
  .content {
    margin: $spacer 3 * $spacer 3 * $spacer 3 * $spacer;
    padding: 3 * $spacer;
    min-height: 60vh;
  }

  header nav.navbar .nav-item {
    margin-bottom: $spacer;
  }
}

// "Large" (or smaller)
@include media-breakpoint-down(lg) {
  header {
    margin: 0;
  }
  .content {
    border-radius: 0;
  }
}

// "Medium" (or smaller)
@include media-breakpoint-down(md) {
  .grid {
    display: block;
  }
  .grid.mt-5 {
    margin: $spacer 0 !important;
  }
  .grid .g-col-3,
  .grid .g-col-4,
  .grid .g-col-6,
  .grid .g-col-8,
  .grid .g-col-9,
  .grid .g-col-12 {
    margin: 0 0 $spacer 0;
  }
  .grid .jumbo a {
    margin: auto 0;
    padding: 1.5 * $spacer $spacer;
  }
  .grid .jumbo a div {
    min-height: 4.5 * $spacer;
  }
  .grid .jumbo a div span.material-icons {
    align-content: center;
  }

  .table {
    border-radius: 0.5 * $spacer;
  }
  .table th,
  .table tbody td {
    padding: 0.5 * $spacer;
  }

  header nav.navbar {
    margin: 0 $spacer;
  }

  .sidebar {
    padding: $spacer;
  }

  ul.detail-table li.nav-item.mx-5 {
    margin: 0 $spacer !important;
  }
  div.detail-table.p-5 {
    padding: $spacer !important;
  }

  #graph {
    padding: 0;
    height: 40rem;
  }

}

// "Small" (or smaller)
@include media-breakpoint-down(sm) {
  #graph {
    padding: 0;
    height: 40rem;
  }
}
